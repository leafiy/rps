(function(){"use strict";var t={6066:function(t,e,s){var r=s(7195),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("game-board")],1)},n=[],a=function(){var t=this,e=t._self._c;return e("div",[e("canvas",{ref:"canvas",staticClass:"game-canvas",attrs:{width:"600",height:"400"}}),e("div",{staticClass:"status"},[e("p",[t._v("游戏时长: "+t._s(t.gameDuration)+" 秒")]),e("p",[t._v("剪刀: "+t._s(t.scissorsCount))]),e("p",[t._v("石头: "+t._s(t.rockCount))]),e("p",[t._v("布: "+t._s(t.paperCount))])]),e("button",{on:{click:t.startGame}},[t._v("Start")])])},o=[],c=(s(560),{name:"GameBoard",data(){return{items:[],ctx:null,intervalId:null,scissorsImage:null,rockImage:null,paperImage:null,gameStartTime:null,gameDuration:0}},computed:{scissorsCount(){return this.items.filter((t=>"scissors"===t.type)).length},rockCount(){return this.items.filter((t=>"rock"===t.type)).length},paperCount(){return this.items.filter((t=>"paper"===t.type)).length}},methods:{loadImages(){this.scissorsImage=new Image,this.scissorsImage.src=s(2096),this.rockImage=new Image,this.rockImage.src=s(2353),this.paperImage=new Image,this.paperImage.src=s(8848)},startGame(){this.initItems(),this.intervalId=setInterval(this.gameLoop,100),this.gameStartTime=Date.now(),this.updateGameDuration()},updateGameDuration(){this.gameStartTime&&(this.gameDuration=Math.floor((Date.now()-this.gameStartTime)/1e3))},initItems(){this.items=[];for(let t=0;t<40;t++)this.items.push(this.createItem("scissors")),this.items.push(this.createItem("rock")),this.items.push(this.createItem("paper"))},createItem(t){return{type:t,x:600*Math.random(),y:400*Math.random(),vx:15*(Math.random()-.5),vy:15*(Math.random()-.5)}},gameLoop(){this.updateGameDuration(),this.ctx.clearRect(0,0,600,400),this.items.forEach((t=>{t.x+=t.vx,t.y+=t.vy,(t.x<0||t.x>600)&&(t.vx=-t.vx),(t.y<0||t.y>400)&&(t.vy=-t.vy),this.drawItem(t)})),this.checkCollisions(),this.checkGameOver()},drawItem(t){let e;switch(this.ctx.fillStyle=this.getItemColor(t.type),t.type){case"scissors":e=this.scissorsImage;break;case"rock":e=this.rockImage;break;case"paper":e=this.paperImage;break}e&&this.ctx.drawImage(e,t.x-10,t.y-10,10,10)},getItemColor(t){switch(t){case"rock":return"gray";case"paper":return"red";case"scissors":return"orange"}},checkCollisions(){const t=10;for(let e=0;e<this.items.length;e++)for(let s=e+1;s<this.items.length;s++){const r=this.items[e],i=this.items[s],n=r.x-i.x,a=r.y-i.y,o=Math.sqrt(n*n+a*a);o<t&&this.resolveCollision(r,i)}},resolveCollision(t,e){"scissors"===t.type&&"paper"===e.type||"paper"===t.type&&"scissors"===e.type?t.type=e.type="scissors":"paper"===t.type&&"rock"===e.type||"rock"===t.type&&"paper"===e.type?t.type=e.type="paper":("rock"===t.type&&"scissors"===e.type||"scissors"===t.type&&"rock"===e.type)&&(t.type=e.type="rock"),this.randomizeDirection(t),this.randomizeDirection(e)},randomizeDirection(t){const e=Math.random()*Math.PI*2,s=Math.sqrt(t.vx*t.vx+t.vy*t.vy);t.vx=Math.cos(e)*s,t.vy=Math.sin(e)*s},checkGameOver(){if(0===this.items.length)return;const t=this.items[0].type,e=this.items.every((e=>e.type===t));e&&(clearInterval(this.intervalId),alert(`游戏结束，胜利者：${t}`))}},mounted(){const t=this.$refs.canvas;this.ctx=t.getContext("2d"),this.loadImages()}}),p=c,u=s(1001),h=(0,u.Z)(p,a,o,!1,null,null,null),m=h.exports,l={name:"App",components:{GameBoard:m}},f=l,v=(0,u.Z)(f,i,n,!1,null,null,null),g=v.exports;r.ZP.config.productionTip=!1,new r.ZP({render:t=>t(g)}).$mount("#app")},8848:function(t,e,s){t.exports=s.p+"img/paper.375fda47.svg"},2353:function(t,e,s){t.exports=s.p+"img/rock.a1753325.svg"},2096:function(t,e,s){t.exports=s.p+"img/scissors.2046eaa5.svg"}},e={};function s(r){var i=e[r];if(void 0!==i)return i.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,r,i,n){if(!r){var a=1/0;for(u=0;u<t.length;u++){r=t[u][0],i=t[u][1],n=t[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&n||a>=n)&&Object.keys(s.O).every((function(t){return s.O[t](r[c])}))?r.splice(c--,1):(o=!1,n<a&&(a=n));if(o){t.splice(u--,1);var p=i();void 0!==p&&(e=p)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[r,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,n,a=r[0],o=r[1],c=r[2],p=0;if(a.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(c)var u=c(s)}for(e&&e(r);p<a.length;p++)n=a[p],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},r=self["webpackChunkrock_paper_scissors_game"]=self["webpackChunkrock_paper_scissors_game"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(6066)}));r=s.O(r)})();
//# sourceMappingURL=app.ac6643b1.js.map